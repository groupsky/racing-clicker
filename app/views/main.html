<div class="row" ng-controller="MainCtrl">
  <div class="col-md-4">
    <div class="panel panel-default panel-units panel-cars">
      <div class="panel-heading">
        <i class="icon-resource icon-car"></i>
        <span class="pull-right">
          {{(scrollbarWatches.cars = (game.tabs.byName.money.units | filter:filterVisible | count)-1)}}
          cars
        </span>
      </div>
      <div class="panel-body"
           perfect-scrollbar
           wheel-propagation="true"
           wheel-speed="1"
           min-scrollbar-length="20"
           suppress-scroll-x="true"
           refresh-on-change="scrollbarWatches"
        >
        <ul class="list-unstyled">
          <li ng-repeat="unit in game.tabs.byName.money.sortUnits() | filter:filterVisible track by unit.name"
              ng-if="!$last">
            <unit unit="::unit"></unit>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="col-md-8">
    <clicker></clicker>
  </div>

  <div class="col-md-6">
    <div class="panel panel-default panel-units panel-technology">
      <div class="panel-heading">
        <i class="icon-resource icon-technology"></i>
        <span class="pull-right">
          {{(scrollbarWatches.technologies = (game.tabs.byName.technology.units | filter:filterVisible | count)-1)}}
          technologies
        </span>
      </div>
      <div class="panel-body"
           perfect-scrollbar
           wheel-propagation="true"
           wheel-speed="1"
           min-scrollbar-length="20"
           suppress-scroll-x="true"
           suppress-scroll-y="{{game.isFixHeight?'false':'true'}}"
          >
        <ul class="list-unstyled">
          <li ng-repeat="unit in game.tabs.byName.technology.sortUnits() | filter:filterVisible track by unit.name"
              ng-if="!$last">
            <unit unit="::unit"></unit>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div ng-if="game.tabs.byName.fame.isVisible() || game.tabs.byName.teams.isVisible()" class="col-md-6">
    <div class="panel panel-default panel-units panel-other" ng-init="tab = game.tabs.byName.fame">
      <div class="panel-heading">
        <div class="btn-group btn-group-justified" role="tablist">
          <a ng-show="game.tabs.byName.fame.isVisible()" href role="tab" class="btn btn-default"
             ng-class="{active: tab == game.tabs.byName.fame}" ng-click="tab = game.tabs.byName.fame">
             <i class="icon-resource icon-sponsor"></i>
             sponsors
           </a>
          <a ng-show="game.tabs.byName.teams.isVisible()" href role="tab" class="btn btn-default"
             ng-class="{active: tab == game.tabs.byName.teams}" ng-click="tab = game.tabs.byName.teams">
             <i class="icon-resource icon-team"></i>
             teams
           </a>
        </div>
      </div>
      <div class="panel-body"
           perfect-scrollbar
           wheel-propagation="true"
           wheel-speed="1"
           min-scrollbar-length="20"
           suppress-scroll-x="true"
           suppress-scroll-y="{{game.isFixHeight?'false':'true'}}"
           refresh-on-change="scrollbarWatches"
        >
        <ul class="list-unstyled" count="{{(scrollbarWatches.other = (tab.sortUnits() | filter:filterVisible | count)-1)}}">
          <li ng-repeat="unit in tab.sortUnits() | filter:filterVisible track by unit.name" ng-if="!$last">
            <unit unit="::unit"></unit>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
