<span ng-if="isBuyButtonVisible()">
  <span ng-if="fixednum">
    <a ng-if="resource.isCostMet()" role="button" class="btn btn-default titlecase"
       ng-class="{disabled:unit.maxCostMet().lessThan(fullnum())}"
       ng-click="buyResource({resource:resource, num:fullnum()})" action-effect>
      {{::verb}} {{fullnum().times(statTwin())|bignum}} {{::unit.unittype.plural}}
    </a>
  </span>
  <div ng-if="!fixednum" class="btn-group btn-group-justified">
    <a ng-if="!resource.isCostMet()" role="button" class="btn btn-default disabled">
      Can't {{::verb}}
    </a>
    <a ng-if="resource.isCostMet()" role="button" class="btn btn-default titlecase"
       ng-click="buyResource({resource:resource, num:fullnum()})" action-effect>
      + {{fullnum().times(statTwin())|bignum}}
    </a>
    <a ng-if="is25Visible()" role="button" class="btn btn-default titlecase"
       ng-click="buyMaxResource({resource:resource, percent:0.25})" action-effect>
      + {{resource.maxCostMet(0.25).times(statTwin())|bignum}}
    </a>
    <a ng-if="resource.maxCostMet().greaterThan(1)" role="button" class="btn btn-default titlecase"
       ng-click="buyMaxResource({resource:resource, percent:1})" action-effect>
      + {{resource.maxCostMet().times(statTwin())|bignum}}
    </a>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="costs single-costs" ng-class="{'col-xs-6': resource.maxCostMet().greaterThan(1), 'col-xs-12': !resource.maxCostMet().greaterThan(1)}">
        <unit-resource ng-repeat="cost in ::unit.cost track by cost.unit.name"
                       value="cost.val"
                       unit="::cost.unit"
                       ng-class="{positive: isCostMet(cost), negative: !isCostMet(cost)}">
        </unit-resource>
      </div>
      <div ng-if="resource.maxCostMet().greaterThan(1)" class="col-xs-6 costs max-costs">
        <unit-resource ng-repeat="cost in maxCosts() track by cost.unit.name"
                       value="cost.val"
                       unit="::cost.unit"
                       class="positive">
        </unit-resource>
      </div>
    </div>
  </div>
</span>
